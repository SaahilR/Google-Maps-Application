<navbar></navbar>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="map">
        <agm-map 
        [latitude]="lat" 
        [longitude]="lng" 
        [zoom]="zoom" 
        [disableDefaultUI]= false 
        [zoomControl] = false
        (mapClick) = "mapClicked($event)">

          <agm-marker  *ngFor= "let marker of markers; let i = index" 
          (markerClick) = "clickedMarker(marker, i)" 
          [latitude]="marker.latitude" 
          [longitude]="marker.longitude"
          [markerDraggable]="marker.draggable"
          (dragEnd)="markerDragEnd(marker, $event)">
          <agm-info-window>
            <strong> {{ marker.label }} </strong>
            <br>
            <a class="delete" (click)="removeMarker(marker)">Delete</a>
          </agm-info-window>
        </agm-marker>
        </agm-map>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">

            </h3>
          </div>
        </div>
        <div class="panel-body">   
          <form (submit)="addMarker()">
            <div class="row">
              <div class="col">
                <label>Location Name </label>
                <input class="form-control" type="text" [(ngModel)]="markerLabel" name="markerLabel">
              </div>
            </div>
            <div class="row">
              <div class="col">
                <label>Latitude </label>
                <input class="form-control" type="text" [(ngModel)]="markerLatitude" name="markerLatitude">
              </div>
              <div class="col">
                <label>Longitude </label>
                <input class="form-control" type="text" [(ngModel)]="markerLongitude" name="markerLongitude">
              </div>
            </div>

            <div class="row">
              <div class="col">
                <label>Draggable </label>
                <select class="form-control" [(ngModel)] = "markerDraggable" name= "markerDraggable">
                  <option value="no">No</option>
                  <option value="yes">Yes</option>
                </select>
              </div>
              <div class="col">
                <input class="btn btn-secondary" type="submit" value= "Map It">
              </div>
            </div>
          </form>
        </div>
    </div>
  </div>
</div>